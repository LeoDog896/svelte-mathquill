import{S as D,i as L,s as m,k as Q,l as j,m as z,h,n as y,b as A,F as d,R as C,o as R,w as U}from"./index.a9d806a6.js";function q(f){let s,o;return{c(){s=Q("span"),this.h()},l(c){s=j(c,"SPAN",{class:!0,style:!0}),z(s).forEach(h),this.h()},h(){y(s,"class",f[1]),y(s,"style",o=f[0]?"border: none; outline: none; box-shadow: none;":"")},m(c,n){A(c,s,n),f[16](s)},p(c,[n]){n&2&&y(s,"class",c[1]),n&1&&o!==(o=c[0]?"border: none; outline: none; box-shadow: none;":"")&&y(s,"style",o)},i:d,o:d,d(c){c&&h(s),f[16](null)}}}function I(f,s,o){let c;const n=C();let a,{autofocus:i=!1}=s,{latex:r}=s,{noBorderOutline:b=!1}=s,{focused:O=i}=s,{class:g=""}=s,{config:x={}}=s,e;const k=()=>e==null?void 0:e.focus(),_=()=>e==null?void 0:e.blur(),w=()=>e==null?void 0:e.reflow(),E=()=>e==null?void 0:e.select(),S=()=>e==null?void 0:e.clearSelection(),M=t=>e==null?void 0:e.keystroke(t),T=t=>e==null?void 0:e.typedText(t);R(()=>{const t=globalThis.MathQuill.getInterface(2),l=u=>u==t.L?"L":"R";o(14,e=t.MathField(a,{...c,substituteTextarea(){const u=document.createElement("textarea");return u.addEventListener("focus",()=>o(4,O=!0)),u.addEventListener("blur",()=>o(4,O=!1)),u.setAttribute("autocorrect","false"),u},handlers:{edit(){n("edit",e.latex()),o(3,r=e.latex())},upOutOf(){n("upOutOf"),n("outOf","U"),n("outOfOnly","U")},downOutOf(){n("downOutOf"),n("outOf","D"),n("outOfOnly","D")},moveOutOf(u){n("moveOutOf",l(u)),n("outOf",l(u)),n("outOfOnly",l(u))},selectOutOf(u){n("selectOutOf",l(u)),n("outOf",l(u)),n("outOfOnly",l(u))},deleteOutOf(u){n("deleteOutOf",l(u)),n("outOf",l(u))},enter(){n("enter")}}})),i&&e.focus()});function B(t){U[t?"unshift":"push"](()=>{a=t,o(2,a)})}return f.$$set=t=>{"autofocus"in t&&o(5,i=t.autofocus),"latex"in t&&o(3,r=t.latex),"noBorderOutline"in t&&o(0,b=t.noBorderOutline),"focused"in t&&o(4,O=t.focused),"class"in t&&o(1,g=t.class),"config"in t&&o(6,x=t.config)},f.$$.update=()=>{f.$$.dirty&64&&o(15,c=Object.fromEntries(Object.entries(x).filter(([t,l])=>l))),f.$$.dirty&16392&&e&&e.latex()!==r&&e.latex(r),f.$$.dirty&49216&&c&&e&&e.config(x)},[b,g,a,r,O,i,x,k,_,w,E,S,M,T,e,c,B]}class P extends D{constructor(s){super(),L(this,s,I,q,m,{autofocus:5,latex:3,noBorderOutline:0,focused:4,class:1,config:6,focus:7,blur:8,reflow:9,select:10,clearSelection:11,keystroke:12,typedText:13})}get focus(){return this.$$.ctx[7]}get blur(){return this.$$.ctx[8]}get reflow(){return this.$$.ctx[9]}get select(){return this.$$.ctx[10]}get clearSelection(){return this.$$.ctx[11]}get keystroke(){return this.$$.ctx[12]}get typedText(){return this.$$.ctx[13]}}export{P as M};
