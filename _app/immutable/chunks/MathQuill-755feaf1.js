var m=Object.defineProperty,z=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var d=(o,e,n)=>e in o?m(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,_=(o,e)=>{for(var n in e||(e={}))C.call(e,n)&&d(o,n,e[n]);if(h)for(var n of h(e))U.call(e,n)&&d(o,n,e[n]);return o},k=(o,e)=>z(o,A(e));import{S as q,i as I,s as N,e as P,c as R,a as G,d as w,b as g,g as H,n as E,T as J,w as K,M as V}from"./index-11b9fab4.js";function W(o){let e,n;return{c(){e=P("span"),this.h()},l(f){e=R(f,"SPAN",{class:!0,style:!0}),G(e).forEach(w),this.h()},h(){g(e,"class",o[1]),g(e,"style",n=o[0]?"border: none; outline: none; box-shadow: none;":"")},m(f,u){H(f,e,u),o[16](e)},p(f,[u]){u&2&&g(e,"class",f[1]),u&1&&n!==(n=f[0]?"border: none; outline: none; box-shadow: none;":"")&&g(e,"style",n)},i:E,o:E,d(f){f&&w(e),o[16](null)}}}function X(o,e,n){let f;const u=J();let a,{autofocus:i=!1}=e,{latex:l}=e,{noBorderOutline:y=!1}=e,{focused:O=i}=e,{class:b=""}=e,{config:x={}}=e,t;const M=()=>t==null?void 0:t.focus(),S=()=>t==null?void 0:t.blur(),T=()=>t==null?void 0:t.reflow(),B=()=>t==null?void 0:t.select(),D=()=>t==null?void 0:t.clearSelection(),L=s=>t==null?void 0:t.keystroke(s),Q=s=>t==null?void 0:t.typedText(s);K(()=>{const s=globalThis.MathQuill.getInterface(2),r=c=>c==s.L?"L":"R";n(14,t=s.MathField(a,k(_({},f),{substituteTextarea(){const c=document.createElement("textarea");return c.addEventListener("focus",()=>n(4,O=!0)),c.addEventListener("blur",()=>n(4,O=!1)),c.setAttribute("autocorrect","false"),c},handlers:{edit(){u("edit",t.latex()),n(3,l=t.latex())},upOutOf(){u("upOutOf"),u("outOf","U"),u("outOfOnly","U")},downOutOf(){u("downOutOf"),u("outOf","D"),u("outOfOnly","D")},moveOutOf(c){u("moveOutOf",r(c)),u("outOf",r(c)),u("outOfOnly",r(c))},selectOutOf(c){u("selectOutOf",r(c)),u("outOf",r(c)),u("outOfOnly",r(c))},deleteOutOf(c){u("deleteOutOf",r(c)),u("outOf",r(c))},enter(){u("enter")}}}))),i&&t.focus()});function j(s){V[s?"unshift":"push"](()=>{a=s,n(2,a)})}return o.$$set=s=>{"autofocus"in s&&n(5,i=s.autofocus),"latex"in s&&n(3,l=s.latex),"noBorderOutline"in s&&n(0,y=s.noBorderOutline),"focused"in s&&n(4,O=s.focused),"class"in s&&n(1,b=s.class),"config"in s&&n(6,x=s.config)},o.$$.update=()=>{o.$$.dirty&64&&n(15,f=Object.fromEntries(Object.entries(x).filter(([s,r])=>r))),o.$$.dirty&16392&&t&&t.latex()!==l&&t.latex(l),o.$$.dirty&49216&&f&&t&&t.config(x)},[y,b,a,l,O,i,x,M,S,T,B,D,L,Q,t,f,j]}class v extends q{constructor(e){super(),I(this,e,X,W,N,{autofocus:5,latex:3,noBorderOutline:0,focused:4,class:1,config:6,focus:7,blur:8,reflow:9,select:10,clearSelection:11,keystroke:12,typedText:13})}get focus(){return this.$$.ctx[7]}get blur(){return this.$$.ctx[8]}get reflow(){return this.$$.ctx[9]}get select(){return this.$$.ctx[10]}get clearSelection(){return this.$$.ctx[11]}get keystroke(){return this.$$.ctx[12]}get typedText(){return this.$$.ctx[13]}}export{v as M};
